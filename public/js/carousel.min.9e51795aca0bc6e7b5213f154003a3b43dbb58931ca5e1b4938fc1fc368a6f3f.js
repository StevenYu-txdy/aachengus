document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".carousel").forEach(e=>{const s=e.querySelector(".carousel-wrapper"),n=Array.from(e.querySelectorAll(".carousel-card")),h=e.querySelector(".carousel-nav.prev"),d=e.querySelector(".carousel-nav.next"),r=Array.from(e.querySelectorAll(".carousel-dots span"));let t=0,l;function i(e){e<0&&(e=n.length-1),e>=n.length&&(e=0),t=e,n[t].scrollIntoView({behavior:"smooth",inline:"start"}),c()}function c(){r.forEach(e=>e.classList.remove("active")),r[t]?.classList.add("active")}h.addEventListener("click",()=>i(t-1)),d.addEventListener("click",()=>i(t+1)),r.forEach((e,t)=>e.addEventListener("click",()=>i(t))),s.addEventListener("wheel",e=>{e.preventDefault(),s.scrollLeft+=e.deltaY});const u=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(t=n.indexOf(e.target),c())})},{root:s,threshold:.5});n.forEach(e=>u.observe(e));function a(){o(),l=setInterval(()=>i(t+1),5e3)}function o(){clearInterval(l)}const m=new IntersectionObserver(([e])=>{e.isIntersecting?a():o()},{threshold:.5});m.observe(e),e.addEventListener("mouseenter",o),e.addEventListener("mouseleave",()=>{const t=e.getBoundingClientRect();t.top<window.innerHeight&&t.bottom>0&&a()}),s.addEventListener("touchstart",o),s.addEventListener("touchend",()=>{const t=e.getBoundingClientRect();t.top<window.innerHeight&&t.bottom>0&&a()}),c()})})