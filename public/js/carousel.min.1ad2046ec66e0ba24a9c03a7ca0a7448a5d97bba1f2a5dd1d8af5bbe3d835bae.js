document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".carousel").forEach(e=>{const n=e.querySelector(".carousel-wrapper"),s=Array.from(e.querySelectorAll(".carousel-card")),l=e.querySelector(".carousel-nav.prev"),d=e.querySelector(".carousel-nav.next"),r=Array.from(e.querySelectorAll(".carousel-dots span"));let t=0,o;l.addEventListener("click",()=>a(t-1)),d.addEventListener("click",()=>a(t+1));function i(){clearInterval(o),o=setInterval(()=>a(t+1),5e3)}function a(e){e<0&&(e=s.length-1),e>=s.length&&(e=0),t=e,s[t].scrollIntoView({behavior:"smooth",inline:"start"}),c(t),i()}function c(e){r.forEach(e=>e.classList.remove("active")),r[e]?.classList.add("active")}const u=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(t=s.indexOf(e.target),c(t))})},{root:n,threshold:.6});s.forEach(e=>u.observe(e)),r.forEach((e,t)=>e.addEventListener("click",()=>a(t))),n.addEventListener("wheel",e=>{e.preventDefault(),n.scrollLeft+=e.deltaY}),e.addEventListener("mouseenter",()=>clearInterval(o)),e.addEventListener("mouseleave",i),n.addEventListener("touchstart",()=>clearInterval(o)),n.addEventListener("touchend",i),c(0),i()})})